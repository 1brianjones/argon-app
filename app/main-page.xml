<Page
    xmlns="http://schemas.nativescript.org/tns.xsd"
    xmlns:browserView="browser-view"
    loaded="pageLoaded" 
    backgroundColor="#00000000"
    actionBarHidden="{{ viewerEnabled }}">
    <Page.actionBar>
        <ActionBar>
            <ActionBar.titleView margin="0px" padding="0px" >
            <GridLayout id="header" columns="*, auto, auto, auto" rows="auto" horizontalAlignment="stretch">
                <SearchBar col="0" loaded="searchBarLoaded" hint="Enter a URL" />
                <Button col="1" id="overviewBtn" class="material-icon action-btn" tap="onOverview" />
                <Button col="2" id="menuBtn" class="material-icon action-btn" tap="onMenu" />
                <Label col="3" ios:width="5%" />
            </GridLayout>
            </ActionBar.titleView>
        </ActionBar>
    </Page.actionBar>
    <browserView:BrowserView loaded="browserViewLoaded" horizontalAlignment="stretch" verticalAlignment="stretch">
        <StackLayout id="menu" loaded="menuLoaded" visibility="collapsed" horizontalAlignment="right" verticalAlignment="top" orientation="vertical">
            <StackLayout class="menuItem" orientation="horizontal">
                <Button id="reloadBtn" class="material-icon action-btn" text="refresh" tap="onReload"/>
            </StackLayout>
            <Label class="menuItem" text="New Channel" tap="onNewChannel"/>
            <Label class="menuItem" text="Bookmarks" tap="onBookmarks"/>
            <Label class="menuItem" text="History" tap="onHistory"/>
            <Label class="menuItem" text="Settings" tap="onSettings"/>            
            <Label class="menuItem" text="{{ viewerEnabled ? 'Disable Viewer' : 'Enable Viewer' }}" tap="onViewerToggle"/>
            <Label class="menuItem" text="{{ debugEnabled ? 'Hide Debug Console' : 'Show Debug Console' }}" tap="onDebugToggle"/>
        </StackLayout>
        <HtmlView id="debug" visibility="{{ debugEnabled ? 'visible' : 'collapsed' }}"></HtmlView>
        <Button text="exit_to_app" class="material-icon action-btn" horizontalAlignment="center" verticalAlignment="bottom" tap="onViewerToggle" visibility="{{ viewerEnabled ? 'visible' : 'collapsed' }}"></Button>
    </browserView:BrowserView>
</Page>

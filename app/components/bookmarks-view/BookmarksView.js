"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var observable_1 = require("data/observable");
var bookmarks_1 = require("../common/bookmarks");
var BookmarksViewModel = (function (_super) {
    __extends(BookmarksViewModel, _super);
    function BookmarksViewModel() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.index = 0;
        _this.showFilteredResults = false;
        return _this;
    }
    BookmarksViewModel.prototype.setIndex = function (value) {
        this.set('index', value);
    };
    return BookmarksViewModel;
}(observable_1.Observable));
var bookmarksView;
var contentLayout;
var tabsLayout;
var viewModel = new BookmarksViewModel;
function onLoaded(args) {
    bookmarksView = args.object;
    bookmarksView.bindingContext = viewModel;
}
exports.onLoaded = onLoaded;
function onContentLayoutLoaded(args) {
    contentLayout = args.object;
}
exports.onContentLayoutLoaded = onContentLayoutLoaded;
function onTabLayoutLoaded(args) {
    tabsLayout = args.object;
}
exports.onTabLayoutLoaded = onTabLayoutLoaded;
function onTabSelect(args) {
    var tab = args.object;
    var index = tabsLayout.getChildIndex(tab);
    viewModel.setIndex(index);
}
exports.onTabSelect = onTabSelect;
bookmarks_1.filterControl.on('propertyChange', function (evt) {
    viewModel.set('showFilteredResults', bookmarks_1.filterControl.showFilteredResults);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQm9va21hcmtzVmlldy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIkJvb2ttYXJrc1ZpZXcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSw4Q0FBK0Q7QUFHL0QsaURBQWlEO0FBRWpEO0lBQWlDLHNDQUFVO0lBQTNDO1FBQUEscUVBTUM7UUFMRyxXQUFLLEdBQUcsQ0FBQyxDQUFDO1FBSVYseUJBQW1CLEdBQUcsS0FBSyxDQUFDOztJQUNoQyxDQUFDO0lBSkcscUNBQVEsR0FBUixVQUFTLEtBQVk7UUFDakIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDN0IsQ0FBQztJQUVMLHlCQUFDO0FBQUQsQ0FBQyxBQU5ELENBQWlDLHVCQUFVLEdBTTFDO0FBRUQsSUFBSSxhQUFrQixDQUFDO0FBQ3ZCLElBQUksYUFBb0IsQ0FBQztBQUN6QixJQUFJLFVBQWlCLENBQUM7QUFFdEIsSUFBTSxTQUFTLEdBQUcsSUFBSSxrQkFBa0IsQ0FBQztBQUV6QyxrQkFBeUIsSUFBSTtJQUN6QixhQUFhLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUM1QixhQUFhLENBQUMsY0FBYyxHQUFHLFNBQVMsQ0FBQztBQUM3QyxDQUFDO0FBSEQsNEJBR0M7QUFFRCwrQkFBc0MsSUFBSTtJQUN0QyxhQUFhLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztBQUNoQyxDQUFDO0FBRkQsc0RBRUM7QUFFRCwyQkFBa0MsSUFBSTtJQUNsQyxVQUFVLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztBQUM3QixDQUFDO0FBRkQsOENBRUM7QUFFRCxxQkFBNEIsSUFBSTtJQUM1QixJQUFNLEdBQUcsR0FBUSxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQzdCLElBQU0sS0FBSyxHQUFHLFVBQVUsQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDNUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUM5QixDQUFDO0FBSkQsa0NBSUM7QUFFRCx5QkFBYSxDQUFDLEVBQUUsQ0FBQyxnQkFBZ0IsRUFBRSxVQUFDLEdBQXNCO0lBQ3RELFNBQVMsQ0FBQyxHQUFHLENBQUMscUJBQXFCLEVBQUUseUJBQWEsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0FBQzVFLENBQUMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtPYnNlcnZhYmxlLCBQcm9wZXJ0eUNoYW5nZURhdGF9IGZyb20gJ2RhdGEvb2JzZXJ2YWJsZSc7XG5pbXBvcnQge1ZpZXd9IGZyb20gJ3VpL2NvcmUvdmlldydcbmltcG9ydCB7TGF5b3V0fSBmcm9tICd1aS9sYXlvdXRzL2xheW91dCdcbmltcG9ydCB7ZmlsdGVyQ29udHJvbH0gZnJvbSAnLi4vY29tbW9uL2Jvb2ttYXJrcydcblxuY2xhc3MgQm9va21hcmtzVmlld01vZGVsIGV4dGVuZHMgT2JzZXJ2YWJsZSB7XG4gICAgaW5kZXggPSAwO1xuICAgIHNldEluZGV4KHZhbHVlOm51bWJlcikge1xuICAgICAgICB0aGlzLnNldCgnaW5kZXgnLCB2YWx1ZSk7XG4gICAgfVxuICAgIHNob3dGaWx0ZXJlZFJlc3VsdHMgPSBmYWxzZTtcbn1cblxubGV0IGJvb2ttYXJrc1ZpZXc6VmlldztcbmxldCBjb250ZW50TGF5b3V0OkxheW91dDtcbmxldCB0YWJzTGF5b3V0OkxheW91dDtcblxuY29uc3Qgdmlld01vZGVsID0gbmV3IEJvb2ttYXJrc1ZpZXdNb2RlbDtcblxuZXhwb3J0IGZ1bmN0aW9uIG9uTG9hZGVkKGFyZ3MpIHtcbiAgICBib29rbWFya3NWaWV3ID0gYXJncy5vYmplY3Q7XG4gICAgYm9va21hcmtzVmlldy5iaW5kaW5nQ29udGV4dCA9IHZpZXdNb2RlbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9uQ29udGVudExheW91dExvYWRlZChhcmdzKSB7XG4gICAgY29udGVudExheW91dCA9IGFyZ3Mub2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb25UYWJMYXlvdXRMb2FkZWQoYXJncykge1xuICAgIHRhYnNMYXlvdXQgPSBhcmdzLm9iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9uVGFiU2VsZWN0KGFyZ3MpIHtcbiAgICBjb25zdCB0YWI6VmlldyA9IGFyZ3Mub2JqZWN0O1xuICAgIGNvbnN0IGluZGV4ID0gdGFic0xheW91dC5nZXRDaGlsZEluZGV4KHRhYik7XG4gICAgdmlld01vZGVsLnNldEluZGV4KGluZGV4KTtcbn1cblxuZmlsdGVyQ29udHJvbC5vbigncHJvcGVydHlDaGFuZ2UnLCAoZXZ0OlByb3BlcnR5Q2hhbmdlRGF0YSkgPT4ge1xuICAgIHZpZXdNb2RlbC5zZXQoJ3Nob3dGaWx0ZXJlZFJlc3VsdHMnLCBmaWx0ZXJDb250cm9sLnNob3dGaWx0ZXJlZFJlc3VsdHMpO1xufSk7Il19